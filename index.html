<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ğŸ’– Meri Aashiqui 3.0 ğŸ’«</title>

<style>
body{
  margin:0;
  font-family: Georgia, serif;
  background:linear-gradient(135deg,#ff758c,#ff7eb3);
  padding-bottom:100px;
}
body.dark{
  background:#141414;
  color:#fff;
}
.toggle{
  margin:15px;
  padding:8px 16px;
  border:none;
  border-radius:20px;
}
.container{max-width:900px;margin:auto;padding:15px;}
.card{
  background:#fff;
  max-width:720px;
  margin:30px auto;
  padding:30px;
  border-radius:20px;
}
.shayari{text-align:center;font-size:1.3rem;line-height:2;}
.actions{text-align:center;margin-top:15px;}
.actions button{
  padding:6px 14px;
  margin:4px;
  border-radius:20px;
  border:none;
  background:#ff4d6d;
  color:#fff;
}
.add-box{max-width:720px;margin:20px auto;}
.add-box textarea{width:100%;height:80px;border-radius:12px;padding:10px;}
.add-box button{width:100%;padding:12px;border:none;border-radius:25px;background:#ff4d6d;color:#fff;}
footer{
  position:fixed;
  bottom:0;
  width:100%;
  text-align:center;
  background:#ff7fa0;
  color:#fff;
  padding:10px;
}

/* ğŸ”¥ DARK MODE FIX FOR SHAYARI */
body.dark .card{
  background:#2b2b2b;
  color:#ffffff;
}

body.dark .shayari{
  color:#ffffff;
}
</style>
</head>

<body>

<div style="text-align:center">
  <button class="toggle" onclick="toggleMode()">ğŸŒ™ Dark / â˜€ï¸ Light</button>
</div>

<div class="container" id="posts"></div>

<div class="add-box">
  <textarea id="newShayari" placeholder="Apni shayari likhiye... â¤ï¸"></textarea>
  <button onclick="addShayari()">â• Post Shayari</button>
</div>

<footer>Â© 2026 â€¢ Meri Aashiqui 3.0 â¤ï¸</footer>

<!-- ğŸ”¥ FIREBASE SCRIPT -->
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-app.js";
import {
  getFirestore,
  collection,
  addDoc,
  getDocs,
  query,
  orderBy,
  serverTimestamp
} from "https://www.gstatic.com/firebasejs/12.9.0/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "AIzaSyBW-IEppX0L7cvUQ0zgU2ytmztQBV8bLL8",
  authDomain: "meri-aashiqui.firebaseapp.com",
  projectId: "meri-aashiqui",
  storageBucket: "meri-aashiqui.firebasestorage.app",
  messagingSenderId: "907742270444",
  appId: "1:907742270444:web:da49bef4b83c75c3e5a6c9"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

/* ===== ADD SHAYARI ===== */
window.addShayari = async function(){
  const textarea = document.getElementById("newShayari");
  const text = textarea.value.trim();
  if(!text) return;

  await addDoc(collection(db,"shayaris"),{
    text:text,
    createdAt:serverTimestamp()
  });

  textarea.value="";
  loadShayaris();
};

/* ===== LOAD SHAYARI ===== */
async function loadShayaris(){
  const posts=document.getElementById("posts");
  posts.innerHTML="";

  const q=query(collection(db,"shayaris"),orderBy("createdAt","desc"));
  const snapshot=await getDocs(q);

  snapshot.forEach(doc=>{
    const card=document.createElement("div");
    card.className="card";
    card.innerHTML=`
      <div class="shayari">${doc.data().text.replace(/\n/g,"<br>")}</div>
      <div class="actions">
        <button>â¤ï¸ Like</button>
        <button onclick="navigator.clipboard.writeText('${doc.data().text}')">ğŸ“‹ Copy</button>
      </div>
    `;
    posts.appendChild(card);
  });
}

loadShayaris();
</script>

<script>
function toggleMode(){
  document.body.classList.toggle("dark");
}
</script>

</body>
</html>

