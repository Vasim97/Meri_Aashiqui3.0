<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>üíñ Meri Aashiqui 3.0 üí´</title>

<style>
body{
  margin:0;
  font-family: Georgia, serif;
  background:linear-gradient(135deg,#ff758c,#ff7eb3);
  padding-bottom:100px;
}
body.dark{
  background:#141414;
  color:#fff;
}
.toggle{
  margin:15px;
  padding:8px 16px;
  border:none;
  border-radius:20px;
}
.container{max-width:900px;margin:auto;padding:15px;}
.card{
  background:#fff;
  max-width:720px;
  margin:30px auto;
  padding:30px;
  border-radius:20px;
}
.shayari{text-align:center;font-size:1.3rem;line-height:2;}
.actions{text-align:center;margin-top:15px;}
.actions button{
  padding:6px 14px;
  margin:4px;
  border-radius:20px;
  border:none;
  background:#ff4d6d;
  color:#fff;
}
.add-box{max-width:720px;margin:20px auto;}
.add-box textarea{width:100%;height:80px;border-radius:12px;padding:10px;}
.add-box button{width:100%;padding:12px;border:none;border-radius:25px;background:#ff4d6d;color:#fff;}
footer{
  position:fixed;
  bottom:0;
  width:100%;
  text-align:center;
  background:#ff7fa0;
  color:#fff;
  padding:10px;
}

/* üî• DARK MODE FIX FOR SHAYARI */
body.dark .card{
  background:#2b2b2b;
  color:#ffffff;
}

body.dark .shayari{
  color:#ffffff;
}

body.dark .actions button{
  background:#ff4d6d;
  color:#fff;
}  

/* ===== HEADER ===== */
.sr-header{
  background:#ff7ea8;
  padding:18px 10px 12px;
  text-align:center;
}

.sr-inner{
  display:flex;
  justify-content:center;
  align-items:center;
  gap:12px;
}

.sr-logo{
  width:50px;
  height:50px;
  border-radius:50%;
}

.sr-header h1{
  font-size:34px;
  color:#fff;
  margin:0;
  font-weight:700;
}

.sr-subtitle{
  margin-top:6px;
  color:#fff;
  font-size:15px;
}

/* ===== NAV BAR ===== */
.sr-nav{
  background:#6b0f1a;
  display:flex;
  justify-content:center;
  gap:30px;
  padding:10px 5px;
  border-top:3px solid rgba(255,255,255,0.4);
}

.sr-nav a{
  color:#fff;
  text-decoration:none;
  font-weight:600;
  position:relative;
}

.sr-nav a.active::after{
  content:"";
  position:absolute;
  bottom:-6px;
  left:0;
  width:100%;
  height:3px;
  background:#ff4d6d;
  border-radius:3px;
}

/* ===== MOBILE FIX ===== */
@media(max-width:600px){
  .sr-header{
    padding:15px 10px;
  }

  .sr-inner{
    flex-direction:column;
    gap:8px;
  }

  .sr-header h1{
    font-size:22px;
  }

  .sr-nav{
    gap:12px;
    flex-wrap:wrap;
  }

  .sr-nav a{
    font-size:14px;
    padding:6px;
  }
}

/* ===== DARK MODE ===== */
body.dark .sr-header{
  background:#3a0d16;
}

body.dark .sr-nav{
  background:#1f060b;
}


</style>
</head>

<body>
<header class="sr-header">
  <div class="sr-inner">
    <img src="logo.jpeg" class="sr-logo">
    <h1>Meri Aashiqui 3.0</h1>
  </div>
  <p class="sr-subtitle">üíå Dil Se Likhi Hui Mohabbat üíå</p>
</header>

<nav class="sr-nav">
  <a href="#" class="active">Home</a>
  <a href="#">Shayari</a>
  <a href="#">Love Status</a>
  <a href="#">Submit</a>
  <a href="#">About</a>
</nav>


  
<div style="text-align:center">
  <button class="toggle" onclick="toggleMode()">üåô Dark / ‚òÄÔ∏è Light</button>
</div>

<div style="text-align:center; margin:15px;">
  <button id="loginBtn">üîê Login</button>
  <button id="logoutBtn" style="display:none;">üö™ Logout</button>

  <p id="loginMsgPost" style="display:none;color:red;text-align:center;">
    Shayari post karne ke liye login zaroori hai
  </p>
</div>
  
<div class="container" id="posts"></div>

<div class="add-box">
  <textarea id="newShayari" placeholder="Apni shayari likhiye... ‚ù§Ô∏è"></textarea>
  <p id="loginMsg" style="display:none;color:red;text-align:center;">
  Shayari post karne ke liye login zaroori hai
  </p>
  <button id="postBtn">‚ûï Post Shayari</button>
</div>

<footer>¬© 2026 ‚Ä¢ Meri Aashiqui 3.0 ‚ù§Ô∏è</footer>

<!-- üî• FIREBASE SCRIPT -->
<script type="module">
import {
  getAuth,
  signInWithEmailAndPassword,
  signOut,
  onAuthStateChanged
} from "https://www.gstatic.com/firebasejs/12.9.0/firebase-auth.js";

import { initializeApp } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-app.js";
import {
  getFirestore,
  collection,
  addDoc,
  getDocs,
  query,
  orderBy,
  serverTimestamp
} from "https://www.gstatic.com/firebasejs/12.9.0/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "AIzaSyBW-IEppX0L7cvUQ0zgU2ytmztQBV8bLL8",
  authDomain: "meri-aashiqui.firebaseapp.com",
  projectId: "meri-aashiqui",
  storageBucket: "meri-aashiqui.firebasestorage.app",
  messagingSenderId: "907742270444",
  appId: "1:907742270444:web:da49bef4b83c75c3e5a6c9"
};

const app = initializeApp(firebaseConfig);  
const auth = getAuth(app);
const db = getFirestore(app);

// üîê LOGIN
document.getElementById("loginBtn").addEventListener("click", async () => {
  const email = prompt("Enter Email:");
  const password = prompt("Enter Password:");

  if (!email || !password) return;

  try {
    await signInWithEmailAndPassword(auth, email, password);
    alert("Login successful ‚ù§Ô∏è");
  } catch (err) {
    alert("Login failed ‚ùå\n" + err.message);
  }
});

// üö™ LOGOUT
document.getElementById("logoutBtn").addEventListener("click", async () => {
  await signOut(auth);
  alert("Logged out");
});

onAuthStateChanged(auth, (user) => {
  const postBtn = document.getElementById("postBtn");
  const loginBtn = document.getElementById("loginBtn");
  const logoutBtn = document.getElementById("logoutBtn");
  const loginMsg = document.getElementById("loginMsg");
  const loginMsgPost = document.getElementById("loginMsgPost");

  if (user) {
    postBtn.style.display = "block";
    loginBtn.style.display = "none";
    logoutBtn.style.display = "inline-block";
    loginMsg.style.display = "none";
    loginMsgPost.style.display = "none";
  } else {
    postBtn.style.display = "none";
    loginBtn.style.display = "inline-block";
    logoutBtn.style.display = "none";
    loginMsg.style.display = "block";
    loginMsgPost.style.display = "block";
  }
});


// ADD SHAYARI
async function addShayari(){
  const textarea = document.getElementById("newShayari");
  const text = textarea.value.trim();
  if(!text) return;

  await addDoc(collection(db,"shayaris"),{
    text,
    createdAt: serverTimestamp()
  });

  textarea.value="";
  loadShayaris();
}

// LOAD SHAYARI
async function loadShayaris(){
  const posts = document.getElementById("posts");
  posts.innerHTML = "";

  const q = query(collection(db,"shayaris"), orderBy("createdAt","desc"));
  const snapshot = await getDocs(q);

  snapshot.forEach(doc=>{
    const card = document.createElement("div");
    card.className="card";
    card.innerHTML = `
      <div class="shayari">${doc.data().text.replace(/\n/g,"<br>")}</div>
      <div class="actions">
        <button class="like-btn">‚ù§Ô∏è Like <span>0</span></button>
        <button class="copy-btn">üìã Copy</button>
      </div>
    `;
    posts.appendChild(card);
  });
}

document.getElementById("postBtn").addEventListener("click", addShayari);
loadShayaris();
  
document.addEventListener("click",function(e){

  // LIKE
  if(e.target.classList.contains("like-btn")){
    const span = e.target.querySelector("span");
    span.innerText = Number(span.innerText) + 1;
  }

  // COPY
  if(e.target.classList.contains("copy-btn")){
    const text = e.target.closest(".card")
                  .querySelector(".shayari").innerText;
    navigator.clipboard.writeText(text);
    alert("Copied ‚ù§Ô∏è");
  }

});

function toggleMode(){
  document.body.classList.toggle("dark");
}
</script>

</body>
</html>















